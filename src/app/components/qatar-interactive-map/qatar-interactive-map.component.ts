import { KpiBaseModel } from '@abstracts/kpi-base-model';
import { CommonModule } from '@angular/common';
import { Component, EventEmitter, Input, OnChanges, OnInit, Output, inject } from '@angular/core';
import { FormControl, ReactiveFormsModule } from '@angular/forms';
import { MatRadioModule } from '@angular/material/radio';
import { MatTooltipModule } from '@angular/material/tooltip';
import { CustomTooltipDirective } from '@directives/custom-tooltip.directive';
import { AppChartTypesService } from '@services/app-chart-types.service';
import { LookupService } from '@services/lookup.service';
import { TranslationService } from '@services/translation.service';
import { minMaxAvg } from '@utils/utils';

@Component({
  selector: 'app-qatar-interactive-map',
  standalone: true,
  imports: [CommonModule, MatTooltipModule, CustomTooltipDirective, MatRadioModule, ReactiveFormsModule],
  templateUrl: './qatar-interactive-map.component.html',
  styleUrls: ['./qatar-interactive-map.component.scss'],
})
export class QatarInteractiveMapComponent implements OnChanges, OnInit {
  @Input() selectedMunicipalityId = 4;
  @Input() hasPrice = false;
  @Input() seriesData: { label: string; data: (KpiBaseModel & { municipalityId: number })[] }[] = [
    { label: '', data: [] },
  ];
  @Input({ required: true }) unit!: string;
  @Input() useOVMunicipalityLookups = false;

  @Output() selectedMunicipalityChanged = new EventEmitter<KpiBaseModel & { municipalityId: number }>();

  lookups = inject(LookupService);
  appChartTypesService = inject(AppChartTypesService);
  lang = inject(TranslationService);

  municipalitiesSvgPath = this._prepareMunicipalitySvgPath();

  municipalitiesDataMap = this._updateMunicipalitiesDataMap();

  minMaxKpis = minMaxAvg(Object.values(this.municipalitiesDataMap).map((m) => m.getKpiVal()));

  selectedSeriesControl = new FormControl<number>(0);
  get selectedSeriesIndex() {
    return (this.selectedSeriesControl?.value as number) ?? 0;
  }

  ngOnChanges(): void {
    this.municipalitiesSvgPath = this._prepareMunicipalitySvgPath();
    this.municipalitiesDataMap = this._updateMunicipalitiesDataMap();
    this.minMaxKpis = minMaxAvg(Object.values(this.municipalitiesDataMap).map((m) => m.getKpiVal()));
  }

  ngOnInit(): void {
    this.selectedSeriesControl.valueChanges.subscribe(() => {
      this.municipalitiesDataMap = this._updateMunicipalitiesDataMap();
      this.minMaxKpis = minMaxAvg(Object.values(this.municipalitiesDataMap).map((m) => m.getKpiVal()));
    });
  }

  getOpacity(kpi: number) {
    return 0.2 + (kpi - this.minMaxKpis.min) / (this.minMaxKpis.max - this.minMaxKpis.min);
  }

  getSelectedMunicipality() {
    return this.municipalitiesDataMap[this.selectedMunicipalityId];
  }

  getName(municipalityId: number) {
    return this.useOVMunicipalityLookups
      ? this.lookups.ovMunicipalitiesMap[municipalityId].getNames()
      : this.lookups.ownerMunicipalitiesMap[municipalityId].getNames();
  }

  getFormatedValue(value: number) {
    return this.appChartTypesService.dataLabelsFormatter({ val: value }, { hasPrice: this.hasPrice });
  }

  getLabel() {
    return this.seriesData[this.selectedSeriesIndex].label;
  }

  onMunicipalityClick(municipality: KpiBaseModel & { municipalityId: number }) {
    if (
      this.seriesData[this.selectedSeriesIndex].data.findIndex(
        (item) => item.municipalityId === municipality.municipalityId
      ) === -1
    )
      return;
    this.selectedMunicipalityId = municipality.municipalityId;
    this.selectedMunicipalityChanged.emit(municipality);
  }

  private _updateMunicipalitiesDataMap() {
    return this.municipalitiesSvgPath.reduce((acc, cur) => {
      return {
        ...acc,
        [cur.id]:
          this.seriesData[this.selectedSeriesIndex].data?.find((m) => m.municipalityId === cur.id) ??
          ({
            municipalityId: cur.id,
            getKpiVal: () => 0,
          } as KpiBaseModel & { municipalityId: number }),
      };
    }, {} as Record<number, KpiBaseModel & { municipalityId: number }>);
  }

  private _prepareMunicipalitySvgPath() {
    return [
      {
        id: this.useOVMunicipalityLookups ? 1 : 4,
        path: 'M378.37748229647696,288.07393476624566L377.4300478296209,285.92090765690955L393.1127202480275,275.97573127396754L394.0142001287604,278.39787343559874L394.06781705761387,281.1990569423215L396.70929502145736,281.4622490939146L400.9494042270235,279.78199983255763L401.28203312789265,280.804734086807L397.79586702953384,282.2677354908883L395.39453316444997,283.8895462455548L396.6258131797804,286.0415075727651L399.73516967787873,284.6333944527214L404.17233802231203,286.1846259006197L402.99691237347724,287.64212124947517L402.3886170482292,289.58301337904413L404.0869078550604,289.6864812066269L404.0907394683163,291.1948696377149L403.1529215422779,293.40596422504314L401.41024801116146,294.4877377919256L401.8886727458157,297.18011922774895L405.56836697373365,297.17081787063216L407.1785239516612,299.5369888514688L406.2413737144234,302.0175067238524L402.2812654707668,303.2666052519198L400.209985399124,305.2110869499156L399.88599619385786,307.79770201962674L400.5029971971089,309.25072078039375L403.0084735103883,311.0222624105518L404.80310282747087,311.5564354484959L408.52540161400975,309.3380491232019L409.3337725061283,311.6523788119812L410.47041969721613,313.1577426302174L413.30231125034334,313.25779058264743L414.75975400637253,311.26051346548775L422.6849805567326,310.26801770416205L424.4386382117227,312.7947327837901L426.1783569877589,310.6884674052417L427.0209962316003,308.47715313224035L428.623376950316,307.82573984549526L435.56929014822526,325.0963537024945L433.6829453061073,325.6950701771857L432.16802353266394,324.35314210730576L430.57101380836684,326.8901729214558L425.8085313989577,328.7365582424245L425.7649215235433,329.92186449750443L426.86333203875984,334.01274739106884L427.8596942265867,335.57195601199055L432.07615670848463,339.97619318786747L432.0476105820708,345.84828532187385L429.353857706461,345.31806528553716L427.08737115624535,345.486696237007L424.87052967860654,346.4631295387444L420.1192210681329,336.7264629632191L407.10067301984236,342.14946007835533L404.57720788264123,334.07524473869853L402.82467862842896,331.8709398373321L391.147093955733,324.8414221049752L389.2094031754532,323.82214317160106L393.12166912743123,321.2814690918967L388.62166376157256,314.01885092693556L386.44501537957694,311.3299578543738L384.58507509023184,301.9602633005852L384.1102580220613,300.5067234747112ZM372.9907454693457,361.1871992128217L360.961300659721,342.1906541674107L372.4713213844807,334.89900137492805L385.73566774252686,355.61362153593655L377.5695526911295,359.023865189527ZM389.27483661494625,332.17204766641953L385.4396465096361,327.0086126652095L386.6182633939752,326.2519295502352L390.17024792304437,331.41588445433445ZM405.4433921898599,285.2655657285868L404.2567900064314,282.3056735413338L407.73905426567944,279.44149583153194L409.4878485941008,280.94526948107523L409.82299952348694,282.8298737397272L411.65900029509794,281.6397557971868L413.3095405304339,281.6352406418082L414.2082442485407,282.60244094215886L415.01990514619683,286.1556948111029L416.5833191755519,288.62938375683734L415.4056801462575,289.17141571790853L413.46604540645785,287.0758230122083L412.2403616811207,287.2946713363199L407.3791642888391,286.0686183185171L408.98028096708003,285.14858765694225L407.9368979259889,282.9426159281429L406.75958787572745,283.59215066832985L407.04747439672065,285.47689921126585ZM420.8003703075665,295.1895578434487L418.62636247572664,293.79521196168935L416.03009161536465,293.15614800904586L416.92083080524753,291.2142567691335L419.98618129463284,290.98995940697205L420.648909598749,291.79609759309096ZM403.3149684310483,282.84677077092056L403.98272714381164,285.8080075007747L400.86665092520707,284.4690097191051L400.67482243978884,283.1765695685026L398.5979606270266,282.4274247566136L402.7447241307236,281.1243208015658Z',
      },
      {
        id: this.useOVMunicipalityLookups ? 6 : 2,
        path: 'M366.93617898355296,215.47628273203009L339.67591919180995,217.290788547376L334.87370646721683,217.99577060613228L334.02559713124356,217.4039572842521L326.6790173104673,216.00924460457463L327.3315537033777,207.01233577662788L318.905093453679,207.0715734446203L312.3574358319893,196.2465556378811L317.43094074750843,177.8205114395023L317.8026666416117,168.87778825022542L321.7028670379368,163.1114491995686L318.0821290023887,163.65219051364693L315.59158033037966,167.693708934632L308.2533628669189,163.11744482993527L272.23122874570254,163.16630088637612L272.24299119747593,142.53387193461822L228.1069937266875,142.53972644858732L230.27193310241273,140.7654259039773L229.05603490938665,136.93869730109145L231.21981046453584,135.70305455888592L232.39707622902642,134.14260042830574L231.41412703479,131.60918749080156L231.42179827066138,126.65310691568448L230.437817654034,124.92772923391021L229.07668477640254,124.06365981867566L226.0228332702536,124.05869715820882L224.61244163822266,124.59503628889797L222.68917176481045,122.86787491224823L222.03774450047058,119.31127921515872L222.41736385844706,117.1571225521111L272.2105075058935,117.16086850594002L272.23105607758043,81.33716221447685L278.0509064124053,81.34006276470609L278.0540672874922,74.06760269138613L287.4861864941777,74.17833594320109L286.076668909358,81.34274332138739L320.479499889203,81.33690243443561L320.49024402728537,99.7066313260002L330.4445653309522,99.53809164195263L344.53124576309347,99.73975019697536L344.57951564647374,100.87097143563005L359.2182000249595,93.14814363446203L378.0695700451033,82.18001605877362L379.2902064783557,82.33923429311835L383.88657065067673,80.7676666457919L389.5165363175329,79.83976080806315L392.14450529945316,79.72610959484882L392.28343435158604,78.91773680170445L395.1003443540103,79.34217290741799L398.0123638875957,80.25102468849218L405.67958223937603,86.75010646969167L407.46619152581843,87.82283290439955L408.35386673465837,86.25823137337284L410.1862840442045,86.89975604064966L409.6266712025972,88.24803174128465L412.2581209850032,89.21053029470932L415.97235038119834,91.19334114554658L423.50975157627545,84.38352171712177L426.65236562759674,83.67358103211154L421.8310637467657,88.05176946963184L423.0543376534479,88.96390287676331L420.24436108554073,91.18097272537852L421.09260650828946,92.25587898673257L423.0600848253671,90.84935956528352L424.4745699601626,92.83829058626725L431.97361042298144,88.98995603126968L432.255970752507,89.2045275948185L422.0858099451434,94.67710322599305L422.93597604177194,96.34454591400572L420.8815816354763,100.17549932859401L417.12609549953777,100.50967146289622L417.5167954597273,105.68013881959632L419.22091941586405,110.25421464478131L419.9752635136829,111.22168063681602L435.9159272782417,102.71412286348641L440.5954913051246,98.01157625082124L441.25639418541687,99.03285287317703L442.8497930725571,98.16540143718157L443.8844764927635,98.64662512171344L419.9290948291746,111.4911702494137L420.9823679407709,118.16804984144983L421.64682501724747,120.42865506104863L421.56774763613066,125.38501304381498L422.56450701961876,128.7220365858375L424.3141053050931,132.3261146278819L424.46251745517657,134.74985825251497L423.71488223425695,136.15276984239608L420.9426144601166,136.32266811437148L420.6203742406069,138.58620056141808L418.1844638957991,141.34073075871856L416.2597170200024,142.15431352491578L413.77872438270424,145.7706514443562L413.08219926322636,148.8432311825236L413.50951572391205,150.35043408528873L413.23452106202603,152.88313422236388L409.6631640856649,153.53933123219758L408.8139913079649,152.46418432888458L405.80156246814295,151.12533559742587L406.46782359291683,154.19424588241236L408.7247390118864,154.24216453450208L409.2456958745315,155.64141923624993L412.0707784759288,157.0882818451646L414.98841733041627,157.94211527390144L418.40957968840667,154.05364063879824L421.70746747056546,156.30655605663196L421.94902559356706,158.4606817569511L423.7907074635732,161.0409743301716L422.71972869421006,164.54581835905992L421.1776088692277,167.83654630156525L419.8624789649766,168.43299681596545L419.44441324746003,170.2119654452108L419.78301071542955,173.3893750925563L419.17704653299006,175.2766326000201L417.628009992477,176.41240361870587L415.7943343036459,176.74085622946586L415.5076466738683,175.17940296561574L413.5769157848117,174.4306109619356L409.4861451183533,175.03435144094692L409.43547237303574,173.6877099623889L411.45440337662876,172.3354771031154L413.24283737983205,172.7076614531543L413.2841623191198,170.66044505956233L410.2185733330698,167.59817366652715L407.49019851021876,167.3899615801347L405.41873634263175,166.58729989101994L401.6145886806771,168.69792874751147L398.69910968779004,168.92058351764717L395.45793857463286,170.65219052493921L396.82684958835307,172.69605146315735L399.8390688545187,173.44296828333609L402.0963324865588,173.22189031351445L404.12087999808136,173.97096533370495L406.51869697518123,173.53380815234414L405.67960458548623,176.44502681794256L404.3156928208482,176.55627831892343L404.1813577897992,179.1963038948088L405.4579944759025,181.67109493680618L409.4565403970919,181.4989635268139L411.10582539440657,182.46419548034464L410.0307332592347,185.0529168566427L410.1363710303267,189.30845332692843L408.8179541565769,188.98875606170623L398.32598345179576,189.55409267433424L394.27906670178345,189.50979650030058L391.92493378442305,188.92260695804725L383.49559186250553,185.81632361374795L381.0921519099793,183.93573230726906L379.4946065113618,185.016327804522L374.1357250388246,187.66621794622915L372.91390365740517,188.53038647645008L366.0550280431926,195.22226348920958L362.5263883918815,195.8743935356033L366.9336464805383,213.96789898867428Z',
      },
      {
        id: this.useOVMunicipalityLookups ? 7 : 1,
        path: 'M392.28343435158604,78.91773680170445L392.14450529945316,79.72610959484882L389.5165363175329,79.83976080806315L383.88657065067673,80.7676666457919L379.2902064783557,82.33923429311835L378.0695700451033,82.18001605877362L359.2182000249595,93.14814363446203L344.57951564647374,100.87097143563005L344.53124576309347,99.73975019697536L330.4445653309522,99.53809164195263L320.49024402728537,99.7066313260002L320.479499889203,81.33690243443561L286.076668909358,81.34274332138739L287.4861864941777,74.17833594320109L278.0540672874922,74.06760269138613L278.0509064124053,81.34006276470609L272.23105607758043,81.33716221447685L272.2105075058935,117.16086850594002L222.41736385844706,117.1571225521111L223.17065111051488,116.18876255264331L222.47127707040636,113.22466877830448L224.77732678654138,110.58897900907323L224.78119587116817,108.32642578981176L226.0490597658354,108.43629285431962L226.2337602993357,110.3220656276244L228.34814480727073,109.78681236223201L228.4001837753749,106.66241010142403L226.71077985398006,105.90547640826844L227.70175318307884,102.99809348284907L229.0657197664259,101.65352529741358L229.02153774700128,99.92960245271388L231.4642935632728,99.23310593191854L233.0165624107176,97.40386668816063L233.67890141166572,94.06489251070889L233.540483997931,92.44857758952276L234.38728250892018,91.26468024732458L234.29659132107918,89.10973553747317L233.3160720229498,85.60671706668654L233.7904657304607,82.26746649684355L233.13549256704573,80.86586583429016L233.6078252717998,78.8733717307041L232.34282440436073,77.47084895126318L231.5072142212448,71.59772469447489L233.15418063763354,68.52962303756067L234.27889200761274,69.44708320586506L235.213676170315,71.92647293383925L234.83590440209082,73.54202919061208L236.70837970807042,76.72305390577094L240.88771151186666,74.7355492500501L240.5608080799284,73.54997580729105L243.1454161938018,70.64432185943588L243.00795530439063,68.05838387324184L246.48023788252613,67.84714334872842L246.20157252372883,65.47653076906136L246.5822380627651,61.00576773022476L248.36858607617614,57.77563382362132L247.62007871879905,56.05093789732928L248.98493497988966,52.01224367896066L249.1747959501954,50.019268941221526L248.3793759457185,48.402275817155896L247.01999965631694,47.86201085011999L253.7294967530761,44.63712094348011L257.9981787870056,43.078984778228914L260.7196543522441,40.980442936037434L261.89365163771436,38.826624056229775L261.28558074778994,37.10229146740312L264.70788797482965,37.42820861394284L265.97267545152863,38.937488843534084L270.24165766003716,35.22332289026963L272.21086390016717,34.95514144653862L273.85001923939853,38.13435719576228L275.67871160931827,37.81206847192516L282.19715340359835,33.61289704536466L284.16675037490495,31.45871644725412L283.83905291356496,29.950271015637554L284.91761399182724,28.442222331512312L284.44956859778904,25.96409139233583L286.37220962677384,22.139839960822428L290.4968589743221,19.770334499233286L293.7306768642884,17.07716627597256L294.43367831343494,15.191767103344318L295.9331869879097,14.006671612944047L299.11950063495897,13.467870456595847L300.103373720689,12.067181964193878L303.66446346693556,12.282171522638237L305.2110249685502,13.682472250999126L308.0222578162211,12.873727157093526L309.2871008149523,11.957568202553375L311.2067923328432,8.132189741103502L315.1417940015526,6.99933254699863L317.34449934290024,8.452751806144079L318.4228181735525,9.798929503922409L323.11029879248235,13.082216815426364L328.03157985021244,14.748719880153658L328.6873080874211,14.371129495651985L331.92138594055723,15.338147976413893L336.9387151756382,18.727353503127233L341.3936325947725,21.362398146346095L341.72235097039083,21.95460858548904L345.8033470842347,24.912810810397787L348.19523160214885,26.095046693131735L349.4625058504462,27.44019939381542L348.4387815076043,33.367159874294885L349.23912743393157,36.00577567623259L348.4921319540299,38.484724902948074L348.12143935565837,41.986725035632844L348.5463089780678,44.24873186102195L349.9094016603194,46.72502513426298L351.6937992285966,48.50041182520363L352.4933936495363,50.22318550986529L356.1096085092431,53.66586066789023L355.6900335505052,55.44416695781547L361.18281374328944,58.56049152513151L361.74733371124603,59.58314580233855L361.8954854344629,64.26961186535482L361.5712393459253,66.90975305785832L362.18442696706916,68.95586015143635L362.09717015581555,73.1039994295279L363.2264982567867,75.04154125448986L367.501949869853,77.99737220631505L372.2460635196039,80.2516142072709L375.01664082285424,81.05456927453633L377.7858446508326,81.103160775172L381.4455850291997,80.55720168998232L387.35598861602193,79.09031215671712ZM320.7167397009325,6.619349434025935L322.02826203209406,6.18760465989908L322.73214604280656,7.964856339262042L321.3271668704547,8.881504683493404ZM304.7872606678138,3.932190339983208L303.4754284923256,3.232138392973866L303.3343264138384,0L306.05140913401556,0.9690938238418312Z',
      },
      {
        id: this.useOVMunicipalityLookups ? 2 : 5,
        path: 'M335.3050336276792,277.03796195385803L350.25449712452246,278.4760809047657L350.5457106355025,284.9402389018651L359.2235370987182,284.92825357434776L359.2308975666383,289.88438551432046L365.92869330644317,289.87392593205004L366.73743193311384,294.0206704404991L368.19976890172984,294.0182192858556L369.46969942067517,291.8612032199526L369.0403656391136,289.0606405072467L367.9032694675989,286.04578909317206L370.16569973032165,285.2338445949499L373.6101267828926,286.08964962584287L374.37118816205475,289.5898838508656L378.37748229647696,288.07393476624566L384.1102580220613,300.5067234747112L384.58507509023184,301.9602633005852L386.44501537957694,311.3299578543738L388.62166376157256,314.01885092693556L393.12166912743123,321.2814690918967L389.2094031754532,323.82214317160106L391.147093955733,324.8414221049752L402.82467862842896,331.8709398373321L404.57720788264123,334.07524473869853L407.10067301984236,342.14946007835533L402.57173432850686,344.0464972205227L398.79910066993034,346.3722089345756L394.039473543191,351.0163259276669L391.96462550929573,352.583301955623L385.73566774252686,355.61362153593655L372.4713213844807,334.89900137492805L360.961300659721,342.1906541674107L372.9907454693457,361.1871992128217L355.89923654579616,369.6184293955812L365.9814846534864,379.8925130638672L352.6970014914259,378.08054369636375L350.9482598253526,378.136693539469L348.9643818169425,379.16274155458814L350.39102441420255,386.0025735393356L343.3469778332219,385.79544906912633L341.5528589970636,387.9522320610922L334.60014112429053,384.4574400274869L303.82434870119323,375.69309470488224L303.83171485495404,416.7965840040488L289.3082202200894,416.79673371902027L287.27482701459667,412.7021778271519L283.72664502340194,414.20968070076924L281.6930921285966,412.53904710728966L277.1028327389504,416.73917942983826L272.2774145618605,416.79063443765335L272.310708231249,442.1637999035738L265.9677335055312,442.15980709986616L266.0074435926508,453.0955945255555L268.5644210339524,452.7740894486924L268.7058817114739,453.68998212098086L266.0067677576444,454.06526682479307L266.00620460179925,454.87332701220294L262.88113370312203,454.87101903555595L262.8714008377283,467.53062112710177L265.9973865719221,467.5329290078953L265.9925498292141,474.4822360776452L272.29286725455313,474.5400657686405L272.32558613602305,588.2062479356609L272.3709787592379,592.08489534806L274.31522488112387,598.5502855757077L266.3332200807781,600L257.7842036574002,597.2997742943116L242.68369261205953,592.3815836283102L233.09471632969507,588.2745455950499L213.8365148958983,575.0978570517545L211.98839920127648,573.2088401196816L210.56983925012173,570.2431939771559L203.2888627373759,556.0063989085829L198.8007229444629,546.7846698732974L194.50250467493606,538.317087322961L184.91706810437609,520.6777175659809L178.1185193930869,509.56223744586896L174.91077790501004,503.78913808357174L179.37099040405883,502.18535343146505L184.11666030070046,500.04314417990827L189.33781597632333,497.0935349392457L191.14432064761058,494.8354108613421L190.76818370088586,493.59546199662145L191.8654437379446,490.58137189544505L192.20271301931643,488.2657431619227L193.630021319972,485.8449837687731L193.77700382011244,483.79824203808676L192.60032611056522,480.5092998377513L191.1348876109114,479.15897079855495L189.43678130752232,476.1380153586142L188.69245103231515,470.6413238466921L190.21556609093386,467.6283346820783L188.98798609548248,466.0630302869904L190.74889666642412,462.56577597089927L190.1836374252598,461.3253515786273L190.38004518362868,458.47067307269754L191.61579027010885,456.58821562719095L190.53750292204495,452.1681515556629L189.97066904012172,451.62804213687195L189.7908333888481,447.748881066851L188.61252390651498,445.6449714814662L187.33694189957168,444.61820368595363L187.67358694641734,442.51808388692007L186.3055072719726,440.6829837670957L184.32139383029426,439.16946360154543L182.3865970731713,436.95565652743244L179.64627254252264,435.1705484165286L179.23039812651405,431.452303805112L178.4335427758342,428.64881958951446L175.88303915798315,426.917858004992L172.5812337171228,423.24521696440206L171.35932261023845,420.38649649232684L170.4626044224715,419.62967643671436L169.95134278580372,416.50363659168215L170.5276750651101,413.54240797437524L170.15145070389553,412.7871039142774L170.82655979278206,408.3716352754491L172.25745687446033,404.2277068204494L174.20123713220528,402.563277638852L175.72287881403463,399.6046630793353L174.79597120663675,392.9219968656762L173.47840242237726,390.70951251783845L173.29714737815084,387.96155182672373L171.31986419280292,385.1006417862518L234.80765311459254,385.02335426986974L240.43759126491204,381.58331306491164L240.7351965820999,370.7556214377473L240.71011839188577,353.6245912253362L263.71148846959113,358.4427753222335L268.0098702281539,359.63098431023536L280.95270368301135,365.9943205491072L283.50371685666323,367.9883763625694L288.416714731924,375.9085755887427L295.17538849503035,371.70732705447153L300.3262859421229,369.22906766791857L339.24884669807216,353.42330148127803L338.4909583072149,351.32308991598984L337.824510302351,346.04438433022733L331.29317470267415,329.5118592275976L325.2873597841244,314.97121155932837L322.83076490138774,311.09410808683606L321.4128229606431,307.37787267040403L334.1533687479823,307.4222742711354L335.3319542128738,306.2360425509323ZM389.27483661494625,332.17204766641953L390.17024792304437,331.41588445433445L386.6182633939752,326.2519295502352L385.4396465096361,327.0086126652095Z',
      },
      {
        id: this.useOVMunicipalityLookups ? 4 : 3,
        path: 'M366.93617898355296,215.47628273203009L366.8033173513104,220.4865082657925L364.52798453076684,240.31478046332631L364.48940456469427,245.5942072734324L365.3562974151573,257.06734486489586L365.97468600475986,260.5140835509301L366.874206930137,262.8829245070883L377.4300478296209,285.92090765690955L378.37748229647696,288.07393476624566L374.37118816205475,289.5898838508656L373.6101267828926,286.08964962584287L370.16569973032165,285.2338445949499L367.9032694675989,286.04578909317206L369.0403656391136,289.0606405072467L369.46969942067517,291.8612032199526L368.19976890172984,294.0182192858556L366.73743193311384,294.0206704404991L365.92869330644317,289.87392593205004L359.2308975666383,289.88438551432046L359.2235370987182,284.92825357434776L350.5457106355025,284.9402389018651L350.25449712452246,278.4760809047657L335.3050336276792,277.03796195385803L320.73361097661837,275.27114654448087L319.5070213398576,274.0866767206171L319.5893903792312,252.5382401326715L320.3904727807967,252.43004816422035L320.3884966543119,248.98230811438407L321.60977911281225,242.51707921882917L319.53639255903545,241.92569282349723L319.5706476733467,218.76118516543647L317.2621246787603,216.39208063093974L316.0830414084776,212.2984672923776L319.567054897052,212.29668397377827L319.56471861818864,208.0947595991529L318.905093453679,207.0715734446203L327.3315537033777,207.01233577662788L326.6790173104673,216.00924460457463L334.02559713124356,217.4039572842521L334.87370646721683,217.99577060613228L339.67591919180995,217.290788547376Z',
      },
      {
        id: this.useOVMunicipalityLookups ? 3 : 6,
        path: 'M385.73566774252686,355.61362153593655L391.96462550929573,352.583301955623L394.039473543191,351.0163259276669L398.79910066993034,346.3722089345756L402.57173432850686,344.0464972205227L407.10067301984236,342.14946007835533L420.1192210681329,336.7264629632191L424.87052967860654,346.4631295387444L427.08737115624535,345.486696237007L429.353857706461,345.31806528553716L432.0476105820708,345.84828532187385L432.33647955514607,347.57125440796517L431.16250355653756,349.7298476266442L431.30897265406384,351.23778750810015L429.6612867517979,353.0207349801858L429.2460406655737,356.20045239086903L429.77174603013555,358.1381851810438L432.4784912756877,362.4932227677855L431.6377485806588,365.56657646304666L432.3230647437158,373.0525400212209L431.6752288358257,377.41819295164896L432.77500536809384,381.4011830455711L431.03284304931003,383.56157655669085L429.15653007930086,388.25427435166785L428.97592614468886,391.00228034725296L433.0419335699553,390.9894566168514L433.0921335690946,391.90511122514727L429.2154940633336,392.0250932018316L430.4589319441293,396.54640854810714L432.54717921162955,398.96401626014995L435.10020379233174,398.7941850573916L438.3179069150501,399.43007018375647L441.91822010226315,401.3034574538178L443.76939260799554,403.2903575781529L439.32980365210096,405.08320438490773L440.66382851664093,407.98778155948094L434.0975484810915,410.5414089386395L432.6486565380037,416.04093921931053L429.05750448972685,417.3990226750466L427.7381432108523,419.1269815430205L427.7892410239001,420.3658657444539L425.2822173197346,420.53511326321313L423.6288602274144,421.4020082808056L421.5475750675687,421.569767241097L421.3185247566871,424.1562595512878L420.23709098149266,426.52974263136275L422.79354345210595,426.9532309208371L424.4893149016716,424.36236087723955L426.10065410305106,425.2194434670382L423.7454999741458,428.83590125288174L424.31479103228776,429.319043533731L421.4427488287474,434.3375669181769L419.03936284159136,437.953899017979L417.34498579474166,441.35260941819433L415.9288365201064,442.7572405734172L415.6485483298893,444.10480207544606L413.6699008941505,447.61189609021676L411.3560627196275,449.826891060271L410.6969628750667,451.22930534500483L408.43054357545043,453.605626393437L404.4212097876298,459.70336115703685L401.9624564114056,461.2178834597362L398.60704532773525,464.1350590753282L395.73162452194083,470.0137586576384L393.51123769603146,472.60465492530784L392.4672052928945,471.74507594347233L390.71788730993285,473.2573494190292L392.2388536333601,475.570419306423L392.76391223647806,477.3469793048789L391.6796550769359,479.7735928619077L391.2648511317675,485.0538533609724L388.991530899817,485.5436638808096L388.93434446015453,480.96476978075225L388.0815403852321,480.96660371541657L387.47186969561153,483.930797988447L386.52671573522093,485.11795408504986L385.91654252287117,487.9205130453265L388.85514103921014,488.2374971741665L388.9524491657503,489.42244390410633L386.25305462727556,490.2362507445432L384.87747589980427,489.5926645317304L383.7436586839758,491.31885421460174L385.9722955395264,491.96070207111916L387.24933702498674,490.7728574158464L388.5287177610444,490.71625514639163L388.7799209842924,497.3956851255716L387.93294422200415,500.3065197631586L386.70539750102034,502.6255621346354L380.8444952859136,511.31067523177626L378.5314533488563,516.6483522106937L377.8741943885252,520.1511893766656L376.5540762875753,524.3017036720994L375.37324720089964,526.9435457894069L373.24374681593326,529.6409338147278L374.763877357851,530.9310747414784L373.9163424631988,534.4341898354323L371.92785600018397,536.6464202237985L369.93560955555586,536.7576205277655L368.8976180651516,540.153217397492L367.4716073862801,538.4856224816322L366.23416146491945,536.0096188708485L363.5837122437515,539.94638379979L364.06023405691667,541.2923924319402L362.25851119103027,542.0493793559363L361.4017654584022,540.2190962517416L362.5388309950358,539.1938229548396L363.530106303544,535.9600646082981L361.39636188719305,536.609794347627L361.2103865524841,539.1419799789073L359.4083906329761,539.6833673582732L357.37276753345213,542.8107844437909L357.56399116331886,543.834046936463L356.57298509179964,547.7141046415127L355.2012848358281,550.9482180902487L355.48886750683596,553.0487597669417L354.7310070172971,554.1271997630829L355.49450578261167,557.1967533850257L354.11798911180813,557.0908863011355L352.1758179393946,560.0024403425487L352.7949483427801,561.6177340250215L347.5298362195026,564.6949234807762L344.4011430267856,568.5771794050816L342.3597809238854,568.5794151273221L342.9718000098219,563.7843235318287L342.11561291279213,562.115273587493L340.54779397805396,560.7162954791129L340.68447445934,555.1136663798607L342.05998976682895,554.3580414633252L343.29576189347426,556.0805506475881L344.43492015148513,556.1870296548805L344.1457760946214,552.2009639082971L346.1874230422691,553.1144337898804L346.51794149736816,551.6595549763515L349.40823404821276,547.9929081211594L348.7374214383017,542.606711975408L348.9250505322707,540.8287649032645L347.9746458037116,539.5370333315586L346.0772137908207,539.7547559005252L346.3598809371324,538.030579488659L344.7466692693997,537.8169493486421L345.59783982211957,535.3918187297604L343.03592683748866,535.1253335630172L340.2383327174175,536.3134348221865L338.8652574657026,539.0083305102526L337.0646079700382,541.2726278398841L336.1139027544705,539.2803230702702L333.97846471900993,538.6358095993128L333.2684555822634,540.5218846396456L331.7501896239701,540.4154262890443L329.9917459606222,536.484319399744L327.80369207936747,528.4054474100849L326.1931955217442,531.4772067530939L325.33932526905846,531.3700538991689L325.3891820046265,534.9793257077035L324.9169107144553,538.157986214108L323.01869271992473,537.1895493657576L323.01742985198507,535.1424822640911L320.40847296256106,535.3056425586328L316.1403190455603,537.9474765197374L313.7205172579852,537.0866096875761L311.77558175538434,537.3028408007085L310.59032504628703,539.5119321967868L309.07256553128536,540.805298799547L306.4629111797112,539.6747304593737L305.37222116743214,541.9375247226708L304.4708249368996,542.2070593898534L303.0957741551247,547.5404456807737L305.42082463455154,547.3783968031203L306.41761609831883,548.7787929218466L312.1124349467573,550.3392899249884L314.7221388520411,549.745672227109L316.241184277329,550.9301321742823L317.8539364791359,549.5287271155248L320.3688187414082,549.3119057697113L324.3561632379424,551.3565428190341L325.35437377497146,553.833901564547L327.86954509782663,553.7243830185471L329.295313205861,556.4168134263309L331.43102867341076,556.4151177307285L332.94757951272186,553.8280855090343L334.46655145091063,554.2038521762661L335.46564252016833,556.9503264282466L332.2882575559779,559.9698309886662L330.7254354577017,564.3884545984911L331.35272508156777,577.047384783582L330.3116375448444,581.5732910791994L329.40969965625845,582.0049545888833L330.4107864229154,586.9063254441862L331.40905932984606,588.036787219622L326.0894729523134,587.7714564981798L319.82021478509705,587.7753509279137L307.6151445437281,591.5512043031049L300.34803198285226,593.1686171153124L295.1229849195224,594.0845965024346L289.3752283977374,594.7843864285023L284.57688938858337,597.20750581217L274.31522488112387,598.5502855757077L272.3709787592379,592.08489534806L272.32558613602305,588.2062479356609L272.29286725455313,474.5400657686405L265.9925498292141,474.4822360776452L265.9973865719221,467.5329290078953L262.8714008377283,467.53062112710177L262.88113370312203,454.87101903555595L266.00620460179925,454.87332701220294L266.0067677576444,454.06526682479307L268.7058817114739,453.68998212098086L268.5644210339524,452.7740894486924L266.0074435926508,453.0955945255555L265.9677335055312,442.15980709986616L272.310708231249,442.1637999035738L272.2774145618605,416.79063443765335L277.1028327389504,416.73917942983826L281.6930921285966,412.53904710728966L283.72664502340194,414.20968070076924L287.27482701459667,412.7021778271519L289.3082202200894,416.79673371902027L303.83171485495404,416.7965840040488L303.82434870119323,375.69309470488224L334.60014112429053,384.4574400274869L341.5528589970636,387.9522320610922L343.3469778332219,385.79544906912633L350.39102441420255,386.0025735393356L348.9643818169425,379.16274155458814L350.9482598253526,378.136693539469L352.6970014914259,378.08054369636375L365.9814846534864,379.8925130638672L355.89923654579616,369.6184293955812L372.9907454693457,361.1871992128217L377.5695526911295,359.023865189527ZM344.75951997831,549.3451581434128L344.0455418569327,547.3527617190557L344.94402696183533,544.6043740082969L345.17762957113155,541.3718962550629L346.4571245207335,540.0775351828415L347.31399894425704,542.5545561594481L346.4657023782056,547.5116135910284L345.1833842617052,546.489558806803Z',
      },
      {
        id: this.useOVMunicipalityLookups ? 5 : 7,
        path: 'M377.4300478296209,285.92090765690955L366.874206930137,262.8829245070883L365.97468600475986,260.5140835509301L365.3562974151573,257.06734486489586L364.48940456469427,245.5942072734324L364.52798453076684,240.31478046332631L366.8033173513104,220.4865082657925L366.93617898355296,215.47628273203009L366.9336464805383,213.96789898867428L362.5263883918815,195.8743935356033L366.0550280431926,195.22226348920958L372.91390365740517,188.53038647645008L374.1357250388246,187.66621794622915L379.4946065113618,185.016327804522L381.0921519099793,183.93573230726906L383.49559186250553,185.81632361374795L391.92493378442305,188.92260695804725L394.27906670178345,189.50979650030058L398.32598345179576,189.55409267433424L408.8179541565769,188.98875606170623L410.1363710303267,189.30845332692843L409.2001861681347,191.14258318017528L408.50525748499786,195.23864158078504L405.87596327213396,197.61586751619325L404.69781768033863,197.02632107566023L402.8646419404831,197.94678976655268L399.75914229566115,198.27772820577957L398.2581434694439,200.3823474236051L394.77714406343875,201.25253418324428L391.5804944804695,203.03760304825119L390.5070370260364,207.13421067310992L391.0725483446149,207.40230293646164L390.0457655016944,211.39105249761633L390.429273603193,214.46085462623887L392.92754550006066,215.6942598413807L392.3247768792353,219.78983874707046L390.67905836581485,220.87096310545166L389.4116574434738,222.70538874930935L389.74584668688476,224.7517559236876L388.7660688213364,228.95585687837593L387.5895086341625,229.38937897286814L385.9497053484374,233.4870896281136L386.8055666442524,237.20237946217094L388.92830663545465,238.49069931572012L391.0535942608258,240.85633196294657L390.5430476672627,244.3052275013324L391.6340311019885,247.53506024383387L393.46949695148214,246.5612101433726L396.72687801448046,249.13943765642034L396.58819658005086,250.27106230615755L399.70664807246067,253.65746161756397L398.71775943614193,253.98308922411525L400.80442000295443,259.25738519526203L401.2808348276885,261.3033183943262L404.05813717747515,259.84182894546393L406.0503439340828,264.68514234177565L404.6853684032685,265.4967209577735L402.7023570220481,264.26269939179474L401.00641863342025,264.6978890379687L400.68175634018553,266.8535414352664L402.52096619521035,267.1183340108619L403.51709115842823,269.5400389303395L399.93302461235726,269.1179716340994L398.84596252789197,267.98931497222657L397.5653630592278,264.7601128343231L396.6752047317714,267.07869342080085L398.8983275346691,270.14404056724743L403.99018400377827,270.18529721316736L406.3120703746099,274.70453660422936L404.33682682926883,276.7028491949386L404.5327296208561,279.55753199263563L401.28203312789265,280.804734086807L400.9494042270235,279.78199983255763L396.70929502145736,281.4622490939146L394.06781705761387,281.1990569423215L394.0142001287604,278.39787343559874L393.1127202480275,275.97573127396754ZM412.6831704365468,276.7885344969691L415.0319090112607,273.60361786226713L414.9803828925942,272.04149068539846L413.75245328765595,271.29070597198734L414.6911725327809,269.7796986838948L417.38460326079803,271.9269586252922L415.07920940242184,273.6573569806933Z',
      },
      {
        id: this.useOVMunicipalityLookups ? 8 : 8,
        path: 'M318.905093453679,207.0715734446203L319.56471861818864,208.0947595991529L319.567054897052,212.29668397377827L316.0830414084776,212.2984672923776L317.2621246787603,216.39208063093974L319.5706476733467,218.76118516543647L319.53639255903545,241.92569282349723L321.60977911281225,242.51707921882917L320.3884966543119,248.98230811438407L320.3904727807967,252.43004816422035L319.5893903792312,252.5382401326715L319.5070213398576,274.0866767206171L320.73361097661837,275.27114654448087L335.3050336276792,277.03796195385803L335.3319542128738,306.2360425509323L334.1533687479823,307.4222742711354L321.4128229606431,307.37787267040403L322.83076490138774,311.09410808683606L325.2873597841244,314.97121155932837L331.29317470267415,329.5118592275976L337.824510302351,346.04438433022733L338.4909583072149,351.32308991598984L339.24884669807216,353.42330148127803L300.3262859421229,369.22906766791857L295.17538849503035,371.70732705447153L288.416714731924,375.9085755887427L283.50371685666323,367.9883763625694L280.95270368301135,365.9943205491072L268.0098702281539,359.63098431023536L263.71148846959113,358.4427753222335L240.71011839188577,353.6245912253362L240.7351965820999,370.7556214377473L240.43759126491204,381.58331306491164L234.80765311459254,385.02335426986974L171.31986419280292,385.1006417862518L169.7222738240671,381.8097913239908L166.1394579107873,378.6206303244617L163.12131487649458,376.40261329591885L162.2784846760478,373.8680211611354L162.38241974926495,370.85154216409865L163.29282966304163,366.8140194647276L163.72959428004106,363.09824126348394L163.21487892387086,361.48049688484025L163.88199037026789,359.6509364682861L163.002277110063,353.8839491587569L161.08235174589208,348.5446346853132L160.90637470078946,344.4498388476495L160.48388932626403,343.6404243118159L161.43878735243925,340.35728425300476L160.12425453674223,337.92889267882856L161.13718063835404,331.1981642150786L159.9695730922831,327.2079545736633L159.94094424089417,321.38973187102965L160.18485827207041,318.912417688407L160.01292441185797,313.63245330332575L160.3503208380862,311.4247949942437L161.48614712938434,310.40484033495886L161.87284050330345,307.4969960478702L161.69906574190827,302.75574954976037L160.63344931979373,296.6110118463548L161.20843617581704,293.811516485177L160.79229461433715,291.17048811132554L159.4757252713025,289.8733626501853L160.1921975806763,287.07433556087926L160.011653629801,284.5417942797285L159.1298380473745,280.121494050356L159.13679194578435,277.96665339568426L160.08591852620884,276.0841954363277L159.66692054932355,274.4128342863478L157.2218134468858,272.3577963313801L158.54911877757695,270.1533778210651L158.79077771243465,268.32252596577746L157.75977570464602,266.43367723056144L156.2985727814521,266.37502348234557L156.11552350719285,264.7044017368171L158.29532400125754,261.2098757753847L157.64088542030368,259.53772941278294L159.88372712078854,250.9794068295596L159.84267424572317,249.09377177040733L160.70121599976846,245.86422776967083L162.26652408088557,242.5830307437427L161.0996643413091,239.13155974035908L158.3735502448253,237.18342521564773L160.59630001330515,234.49700750695774L163.85688686513458,231.22113786343834L166.07466805043805,229.93507982503797L167.20936041584355,228.53788635720412L171.4500348651345,227.95797656824288L174.50027099059662,231.8455694247241L175.80550034888438,236.64384174198494L175.84770350802864,238.36784505981632L178.19915388493973,239.82897030307504L179.08473574215895,243.27918796029553L178.84527412930038,244.6791823987005L179.3501829925226,249.52899670638726L181.32231876974402,252.1201991150083L183.77312994869135,252.0190105282818L187.40662737289676,250.142971281035L187.0370012646017,247.2868439675658L184.26346730749356,244.8015468150552L183.18422780442052,243.12867837701924L185.59162290469976,241.41113312409288L184.13923587797035,238.33666162836016L182.63547226620722,236.9320129686821L183.5830949176452,234.88742698290298L181.04889318239293,231.37899473530706L180.5353371649253,229.7075880168777L178.69916663011827,229.43318868549977L177.94933223169937,228.08432336476835L179.36929426582356,225.55630385115364L179.61131612182362,223.18663213649415L181.54433238267666,222.38382953654218L183.34219258543453,219.26411577302497L182.26511017668236,217.05251538333687L183.63478221799596,215.493905498588L183.07958743337076,211.82918417439214L180.36578426761844,205.6805373659372L180.65324673343275,203.84969993158302L178.53652706865978,203.30516570001782L175.61504201381467,204.3743817986542L173.6810111310915,205.76949013664125L171.51753040991025,205.1167274745094L170.01716076875164,203.1190501226738L172.19319759910286,199.46222424275766L173.60990175849292,197.8502076541845L176.39040937784011,196.56524948171136L177.5162903413293,197.8613268377958L179.40620756337012,195.22688782276236L183.1230938163353,195.61406683684618L183.59616682796332,194.69951653987664L185.5730297890841,194.5969809616363L184.40464995859656,191.5232587893115L187.7521437194373,189.05388718457834L190.15073369875608,189.5447989885579L192.55097151365771,189.38912560496829L193.90746658673743,192.7324296377774L195.36849664522742,191.82012289918202L197.34431046694226,192.0941336666001L197.28877521160757,195.7033660757952L195.77570990011736,198.6627182877055L195.53368883758958,201.4634419214708L193.64018163457513,205.87633656617254L191.138955037939,208.4021578468455L191.17583901916805,212.4964585369089L193.8572541460162,213.41882272555085L194.7906177296536,216.8688190210596L193.6512586707977,220.69093465487094L193.40964408915897,223.22229637570126L196.56413408432854,223.55304632507614L196.74946517142234,224.8463893947628L200.37395838959492,225.66279438979836L200.60553884020192,227.38719386759476L202.4879052265169,228.09171598376997L203.18940812135406,230.35584733365977L202.94986174117366,232.18694152420358L204.45529844275734,233.05215942113136L205.39229508623248,235.42450445020222L208.7371120590833,235.32378209095623L208.73989714094205,233.97700929487473L206.9046088593459,233.11125159543735L205.58926527893345,231.43845961757324L205.9220889727876,229.98464758151385L207.5732180941268,228.74909009612747L207.86110773660766,226.21774713205377L205.74706216769118,223.73522321844212L207.16249139077263,222.49918023133796L206.97810428671073,220.6133040360146L207.68728373220074,219.2680114199975L207.26654693484306,217.81261199784058L209.44020353512315,214.10000720706012L208.45504130536574,212.37410662601906L209.96714649135538,209.68365407640522L210.01664609725412,208.4985914393692L211.7132497184939,207.58619709645427L211.90402981769876,206.34754280708876L210.02611357769638,203.86570071973256L212.3345581830945,202.90065054799925L214.0807908562856,200.5337438622082L217.28071134160564,200.91691749005986L218.83051050634822,202.80525811095868L220.24117223592475,203.61587306252477L221.60291019764554,205.5037745143345L224.94786692262278,203.89339656999073L225.79722826415673,202.65578295588057L225.19329869476496,197.91413263048162L226.7009820012463,196.94695394045266L229.2955787101091,193.12629282911803L228.96942777824006,191.0786826356998L231.55957444502565,189.78981041951192L231.42072677116084,188.28121388769796L228.97433005523635,188.00804970804165L227.61301000510866,186.012645744966L226.47734326501086,189.88949675777258L224.21524100197712,191.8789389903759L222.1466619739076,190.74408593615954L218.19047328364104,192.56860092510033L215.17288612926495,195.5797139976421L212.53856365849788,194.98201570291712L210.84826832955878,193.0392899239887L208.26325069874292,191.47174610772345L206.85700177412946,188.88299660140183L204.5105903374788,185.96894984317623L204.75018094140978,183.9762409765899L203.6260908703989,181.65734676302236L203.63071504708205,179.55638863975037L202.5989728981367,178.0996045026186L203.63925397933053,175.6776976910478L203.08157474760083,172.60583054673043L202.85728289371764,167.7030813708625L201.63665341991873,166.73069510755886L201.35836564807687,165.0062028055836L201.8805169200059,162.8525332726058L204.52055218146415,159.84156594720116L204.38243134721415,158.49449459440802L205.5614458699274,156.88091117729346L206.73726889390673,156.72180155809474L209.09224374777114,154.78736633539665L209.00190573111468,153.0094431636462L208.0178798158886,151.44514939731016L208.30244232696714,150.26058399958129L206.3329159104469,147.939999838738L205.63546228078485,144.38303923019703L206.29827294874121,142.17575202989974L206.6817774301744,138.67496660717006L210.02179002058983,137.17352834669873L212.09604400406533,133.9993356314517L213.60727641340054,130.23136934692593L216.6614748275315,130.2910999395026L217.4571513015544,131.96258028140437L218.8193979843345,132.23445002812514L219.28654170807567,133.74368099140702L220.7881894861639,134.93154150458577L222.56905685778474,137.73595542738622L222.7043793845951,140.96843103280116L221.2909692501562,142.85142446537066L222.3205817359849,145.3851588555408L225.0941351352667,145.28217208621936L225.56710186046257,143.55910281335673L228.1069937266875,142.53972644858732L272.24299119747593,142.53387193461822L272.23122874570254,163.16630088637612L308.2533628669189,163.11744482993527L315.59158033037966,167.693708934632L318.0821290023887,163.65219051364693L321.7028670379368,163.1114491995686L317.8026666416117,168.87778825022542L317.43094074750843,177.8205114395023L312.3574358319893,196.2465556378811Z',
      },
    ];
  }
}
